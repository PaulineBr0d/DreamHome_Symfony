<div class="item"> 
    <img src="{{ asset(item.imageUrl ?? 'uploads/properties/default.webp') }}" alt="Image de l'annonce">

    <h3>{{ item.title|e }}</h3>
    
    <p><strong>Prix :</strong> {{ item.price|number_format(0, ',', ' ') }} â‚¬</p>
    <p><strong>Ville :</strong> {{ item.city|e }}</p>
    <p><strong>Description :</strong> {{ item.description|e }}</p>
    <p><strong>Type de transaction :</strong> {{ item.transactionType.name|e }}</p>
    
    <div class="button">
    {# Boutons favoris et suppression selon userId, etc. #}
    {# Favoris #}
    {% set isFavorite = item.id in favoriteIds %}
    {% set buttonText = isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris' %}
    {% set confirmationText = isFavorite ? 'Retirer des favoris ?' : 'Ajouter aux favoris ?' %}
    {% set buttonColor = isFavorite ? 'red' : 'favorite' %}
    {% if app.user %} 
        {% include 'components/_button.html.twig'  with {
            listing: item,
            action: path('favorite_toggle', {'id': item.id}),
            text: buttonText,
            confirm: confirmationText,
            color: buttonColor
        } %}
    {% endif %} 
    </div>
</div>
